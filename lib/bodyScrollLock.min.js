!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var o={};t(o),e.bodyScrollLock=o}}(this,function(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var e={get passive(){n=!0}};window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}var i="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iPad|iPhone|iPod|(iPad Simulator)|(iPhone Simulator)|(iPod Simulator)/.test(window.navigator.platform),r=null,l=[],d=!1,u=-1,c=void 0,a=void 0,s=function(e){var t=e||window.event;return 1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)},o=function(){setTimeout(function(){void 0!==a&&(document.body.style.paddingRight=a,a=void 0),void 0!==c&&(document.body.style.overflow=c,c=void 0)})},v=function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight};var f=function(e,t){var o=e.targetTouches[0].clientY-u,n=function e(t,o,n){return t&&o?t===o?o:0<t.clientHeight&&t.scrollHeight>t.clientHeight&&(0<t.scrollTop||n<0)&&(!v(t)||0<n)?t:e(t.parentNode,o,n):null}(e.target,t,o);return n&&0!==o?0===n.scrollTop&&0<o?s(e):v(n)&&o<0?s(e):(e.stopPropagation(),!0):(e.stopPropagation(),!0)};exports.disableBodyScroll=function(t,e){var o;i?t&&!l.includes(t)&&(l=[].concat(function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(l),[t]),t.ontouchstart=function(e){1===e.targetTouches.length&&(u=e.targetTouches[0].clientY)},t.ontouchmove=function(e){1===e.targetTouches.length&&f(e,t)},d||(document.addEventListener("touchmove",s,n?{passive:!1}:void 0),d=!0)):(o=e,setTimeout(function(){if(void 0===a){var e=!!o&&!0===o.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(a=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===c&&(c=document.body.style.overflow,document.body.style.overflow="hidden")}),r||(r=t))},exports.clearAllBodyScrollLocks=function(){i?(l.forEach(function(e){e.ontouchstart=null,e.ontouchmove=null}),d&&(document.removeEventListener("touchmove",s,n?{passive:!1}:void 0),d=!1),l=[],u=-1):(o(),r=null)},exports.enableBodyScroll=function(t){i?(t.ontouchstart=null,t.ontouchmove=null,l=l.filter(function(e){return e!==t}),d&&0===l.length&&(document.removeEventListener("touchmove",s,n?{passive:!1}:void 0),d=!1)):r===t&&(o(),r=null)}});
